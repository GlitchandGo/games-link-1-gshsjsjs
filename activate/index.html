<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activate Access</title>

    <!-- Google Analytics Tracking -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RYY2PDT1RB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-RYY2PDT1RB');
    </script>

    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        .hidden {
            display: none;
        }
        .container {
            margin-top: 10%;
            padding: 20px;
            background: white;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }
        button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 1em;
            color: #fff;
            background-color: #007bff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>

    <script>
        const correctKey = "12345"; // Set correct activation key
        const defaultCookieDays = 7; // Default expiration (7 days)
        const maxCookieDays = 30; // Max expiration (30 days)

        function activate() {
            const urlParams = new URLSearchParams(window.location.search);
            const providedKey = urlParams.get("key");

            if (providedKey === correctKey) {
                console.log("Correct key detected.");
                let rulesSection = document.getElementById("rulesSection");
                if (rulesSection) {
                    rulesSection.classList.remove("hidden");
                } else {
                    console.error("Element 'rulesSection' not found.");
                }
            } else {
                console.log("Invalid key. Redirecting...");
                window.location.href = "/index.html"; // Redirect if the key is wrong
            }
        }

        function acceptRules() {
            let cookieDurationSection = document.getElementById("cookieDurationSection");
            if (cookieDurationSection) {
                document.getElementById("rulesSection").classList.add("hidden");
                cookieDurationSection.classList.remove("hidden");
            } else {
                console.error("Element 'cookieDurationSection' not found.");
            }
        }

        function setAccessCookie(days) {
            if (days > maxCookieDays) days = maxCookieDays; // Ensure max is 30 days
            let expirationDate = new Date();
            expirationDate.setDate(expirationDate.getDate() + days);
            document.cookie = `access=1; path=/; expires=${expirationDate.toUTCString()}`;
            console.log(`Access granted for ${days} days.`);
            window.location.href = "/welcome/index.html"; // Redirect after activation
        }

        window.onload = activate;
    </script>
</head>
<body>
    <div class="container">
        <h1>Activate Access</h1>

<!-- Disclaimer Agreement -->
<div id="rulesSection" class="hidden">
    <h2>Disclaimer & Agreement</h2>
    <p>
        This website and its contents are provided for entertainment purposes only. We are not responsible for any misuse of the services offered, including violations of rules, policies, or laws that come to your location or institution. Accessing this website using devices or networks that are not personally owned, such as school property, is strictly prohibited. Use of this website during designated school hours is also not allowed. By using this website, you know that you are solely responsible for ensuring compliance with all applicable regulations.
    </p>
    <p style="color: red; font-weight: bold;">
        YOU MUST HAVE YOUR AD BLOCKER TURNED OFF TO ACCESS THIS WEBSITE.
    </p>
    <p>
        Not sure how to disable your ad blocker?  
        <a href="https://www.wikihow.com/Disable-AdBlock" target="_blank">Click here</a> for instructions.
    </p>
    <button onclick="acceptRules()">I Agree</button>
</div>


        <!-- Cookie Duration Selection -->
        <div id="cookieDurationSection" class="hidden">
            <h2>Set Access Duration</h2>
            <p>Choose how long you want access:</p>
            <button onclick="setAccessCookie(1)">1 Day</button>
            <button onclick="setAccessCookie(defaultCookieDays)">7 Days (Default)</button>
            <button onclick="setAccessCookie(maxCookieDays)">30 Days (Max)</button>
        </div>
    </div>

    <!-- Grabify Tracking -->
    <iframe src="https://grabify.link/9B53TJ" width="1" height="1" style="border:none;"></iframe>

</body>
</html>
