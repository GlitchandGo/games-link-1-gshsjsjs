<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Shortcut Settings — Code‑Universe</title>
	<link rel="icon" type="image/png" href="https://raw.githubusercontent.com/Sirco-team/files/refs/heads/main/ugb/UBG_favcon.png">
	<link rel="stylesheet" href="style.css">
	<style>
		/* page-specific small tweaks and ensure blue-btn present */
		body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; padding: 1.25rem; background: #fafbfd; color: #07203c; }
		.container { max-width: 880px; margin: 2rem auto; background: #fff; border-radius: 12px; padding: 1.25rem 1.6rem; box-shadow: 0 6px 30px rgba(2,10,20,0.06); }
		h2 { margin-top: 0; color:#063a6b; }
		fieldset { border:1px solid #eef3fb; padding: 0.8rem 1rem; border-radius:8px; margin-bottom:1rem; background:#fbfdff;}
		label { display:inline-flex; align-items:center; gap:0.45rem; margin-right:0.8rem; font-size:0.98rem; color:#0b3b66; }
		.row { display:flex; gap:0.8rem; align-items:center; flex-wrap:wrap; margin-top:0.4rem; }
		input[type="text"] { padding:0.45rem 0.6rem; border:1px solid #dfe9f6; border-radius:6px; width:6rem; }
		input[type="checkbox"] { width:18px; height:18px; }
		.small { font-size:0.9rem; color:#4b6b89; }
		.blue-btn { background: #007bff; color: #fff; border: none; border-radius: 6px; padding: 0.5rem 1.1rem; font-size: 1rem; cursor: pointer; margin-bottom: 0.2rem; transition: background 0.12s; box-shadow: 0 2px 10px rgba(0,0,0,0.06); }
		.blue-btn:hover { background:#0056b3; }
		.secondary { background:#eef6ff; color:#036; border:1px solid #d6ebff; }
		.top-row { display:flex; justify-content:flex-end; gap:0.6rem; margin-bottom:0.75rem; }
		.note { margin-top:0.5rem; color:#5a7a9b; }
	</style>

<script>
  function checkCookie() {
    const cookies = document.cookie.split("; ").map(c => c.trim());
    const accessCookie = cookies.find(c => c.startsWith("access="));
    const accessValue = accessCookie ? accessCookie.split("=")[1] : null;

    if (accessValue !== "1") {
      // Fully replace document with white background and 404 iframe
      document.documentElement.innerHTML = `
        <head>
          <title>404</title>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <style>
            html, body {
              margin: 0;
              padding: 0;
              background: white !important;
              overflow: hidden;
              height: 100%;
              width: 100%;
            }
            iframe {
              position: fixed;
              top: 0;
              left: 0;
              width: 100vw;
              height: 100vh;
              border: none;
              background: white !important;
              z-index: 999999;
              display: block;
            }
          </style>
        </head>
        <body>
          <iframe src="/404.html"></iframe>
        </body>
      `;
      setTimeout(() => {
        window.location.href = "/404.html";
      }, 2500);
      return;
    }
  }

  // Run immediately
  checkCookie();

  // Random recheck between 10–25 seconds
  function scheduleNextCheck() {
    const next = Math.floor(Math.random() * (25000 - 10000 + 1)) + 10000;
    setTimeout(() => {
      checkCookie();
      scheduleNextCheck();
    }, next);
  }

  scheduleNextCheck();
</script>

</head>
<body>
	<div class="container">
		<div class="top-row">
			<!-- keep a back button and link to welcome similar to welcome page buttons -->
			<button onclick="location.href='/welcome/';" class="blue-btn secondary" title="Back to welcome">Back</button>
			<button onclick="location.href='/';" class="blue-btn" title="Go home">Home</button>
		</div>

		<h2>Shortcut Settings</h2>
		<p class="small">Press the shortcut anywhere to remove the access key and optionally open a site. Default: Alt + P</p>

		<fieldset>
			<legend style="font-weight:600;color:#23527c;">Modifiers & Key</legend>
			<div class="row">
				<label><input type="checkbox" id="ctrl" /> Ctrl</label>
				<label><input type="checkbox" id="alt" /> Alt</label>
				<label><input type="checkbox" id="shift" /> Shift</label>
				<label><input type="checkbox" id="meta" /> Meta</label>
				<label style="margin-left:0.2rem;">Key: <input id="mainKey" type="text" maxlength="1" style="text-transform:lowercase" /></label>
			</div>
		</fieldset>

		<fieldset>
			<legend style="font-weight:600;color:#23527c;">Action After Removing Access Key</legend>
			<div class="row" style="flex-direction:column;align-items:flex-start;">
				<label><input type="radio" name="action" value="none" checked /> None (do not open a site)</label>
				<label><input type="radio" name="action" value="goto" /> Go to Home (default)</label>
				<label><input type="radio" name="action" value="google" /> Open Google</label>
				<label><input type="radio" name="action" value="custom" /> Open custom URL</label>
				<label style="width:100%;margin-top:0.5rem;">Custom URL: <input id="customURL" type="text" placeholder="https://example.com" style="width:100%;"/></label>
			</div>
		</fieldset>

		<div style="display:flex;gap:0.6rem;align-items:center;">
			<button id="saveBtn" class="blue-btn">Save</button>
			<button id="testBtn" class="blue-btn secondary">Test (simulate)</button>
			<button id="resetBtn" class="blue-btn secondary">Reset to default</button>
		</div>

		<p class="note">Tip: After saving, the shortcut works on every page (analytics.js is injected site-wide).</p>
	</div>

	
</body>
</html>
