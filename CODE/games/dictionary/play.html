<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Play Game</title>
  <style>
    /* minimal UI - top bar removed */
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;}
    #frame{width:100%;height:100%;border:0;display:block}
    .error{position:fixed;left:12px;right:12px;top:12px;padding:12px;background:#fff0f0;color:#b00;border:1px solid #f3c2c2;border-radius:6px;display:none;z-index:9999;font-family:Inter,Arial,sans-serif;opacity:0;transition:opacity 0.6s ease;}
    /* immersive controls */
    /* tiny corner control (top-right, much smaller) */
    .immersive-controls{position:fixed;right:8px;top:8px;display:flex;gap:6px;z-index:10001}
    .immersive-controls .btn{opacity:0.95;min-width:18px;min-height:18px;padding:4px;border-radius:4px;display:inline-flex;align-items:center;justify-content:center}
    /* fullscreen-corners icon style (reduced by ~2x) */
    .fs-icon{width:9px;height:9px;display:block}
  </style>

<script>
  function checkCookie() {
    const cookies = document.cookie.split("; ").map(c => c.trim());
    const accessCookie = cookies.find(c => c.startsWith("access="));
    const accessValue = accessCookie ? accessCookie.split("=")[1] : null;

    if (accessValue !== "1") {
      // Fully replace document with white background and 404 iframe
      document.documentElement.innerHTML = `
        <head>
          <title>404</title>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <style>
            html, body {
              margin: 0;
              padding: 0;
              background: white !important;
              overflow: hidden;
              height: 100%;
              width: 100%;
            }
            iframe {
              position: fixed;
              top: 0;
              left: 0;
              width: 100vw;
              height: 100vh;
              border: none;
              background: white !important;
              z-index: 999999;
              display: block;
            }
          </style>
        </head>
        <body>
          <iframe src="/404.html"></iframe>
        </body>
      `;
      setTimeout(() => {
        window.location.href = "/404.html";
      }, 2500);
      return;
    }
  }

  // Run immediately
  checkCookie();

  // Random recheck between 10–25 seconds
  function scheduleNextCheck() {
    const next = Math.floor(Math.random() * (25000 - 10000 + 1)) + 10000;
    setTimeout(() => {
      checkCookie();
      scheduleNextCheck();
    }, next);
  }

  scheduleNextCheck();
</script>

</head>
<body>
  <!-- top bar removed per request -->

  <!-- sandbox tokens and allow attributes enable fullscreen & pointer-lock where permitted -->
  <iframe id="frame" sandbox="allow-scripts allow-forms allow-same-origin allow-pointer-lock" allow="fullscreen; pointer-lock" allowfullscreen></iframe>
  <div id="msg" class="error" role="alert"></div>

  <div class="immersive-controls" aria-hidden="false">
    <!-- tiny corner-style fullscreen icon (box corners) -->
    <button id="enterImmersive" class="btn" title="Enter immersive mode" aria-label="Enter immersive">
      <svg class="fs-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M3 9V3h6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M21 15v6h-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M21 9V3h-6" stroke="currentColor" stroke-width="0" opacity="0"/>
        <path d="M3 15v6h6" stroke="currentColor" stroke-width="0" opacity="0"/>
        <!-- corners only -->
        <path d="M3 7V3h4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M17 3h4v4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M21 17v4h-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M7 21H3v-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    <button id="exitImmersive" class="btn ghost" style="display:none" title="Exit immersive" aria-label="Exit immersive">✕</button>
  </div>


</body>
</html>
